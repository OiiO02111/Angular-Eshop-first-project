<div style="height: 100%;">
  <div class="product-card shadow-sm " style="padding: 10px; margin-top: 20px; color: blue;">

    <nav class="navbar navbar-expand-lg navbar-light bg-light base">
      <div class="container-fluid">
        <a class="navbar-brand" style="font-size: 30px; " href="#">E-shop</a>
        <div class="d-flex">
          <ul class="navbar-nav">
            <li class="nav-item">
              <span (click)="logoutAction()" class="nav-link" aria-current="page"
                style="font-size: 30px; cursor: pointer;">Logout <i class="fas fa-sign-out-alt"></i></span>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>
  <div class="subcontainer">
    <div class="left">
      <button class="mybutton" (click)="productAction()">Product</button>
      <button class="mybutton" (click)="categoryAction()">Category</button>
      <button class="mybutton" (click)="userAction()">User</button>

    </div>
    <div class="right">
      <div class="inOneline">
        <div class="col-md-2">
          <div class="custom-dropdown">
            <div class="selected-items" (click)="toggleDropdown()">
              <span>
                {{ (selectedCategories$ | async)?.length }} {{ '' }} selected
              </span>
              <i class="fa fa-chevron-down"></i>
            </div>

            <!-- Dropdown Menu -->
            <div class="dropdown-menu" *ngIf="isDropdownOpen">
              <div *ngFor="let category of categories$ | async" class="dropdown-item">
                <input #categoryCheckbox class="form-check-input" type="checkbox" id="'category-id-'{{ category.id }}"
                  [checked]="isCategoryChecked(category.name)"
                  (change)="toggleCategory(category.name, categoryCheckbox.checked)" />
                <label class="form-check-label" for="'category-id-'{{ category.id }}">
                  {{ category.name }}
                </label>
              </div>
            </div>


          </div>
        </div>
        <div class="col-md-4">
          <form class="form-inline row search-container">
            <div class="col-sm-8">
              <input class="form-control" style="margin: 0;" type="search" placeholder="Search" aria-label="Search"
                id="searchKey" name="searchKey" #searchInput (input)="onChangeSearchKey()"
                [(ngModel)]="localSearchKey" />
            </div>
            <div class="col-sm-4">
              <button class="btn btn-outline-success col" style="margin: 0;" type="submit">
                Search
              </button>
            </div>
          </form>
        </div>
        <mat-paginator class="custom-paginator" [length]="totalItems$ | async" [pageSize]="pageSize$ | async"
          [pageIndex]="currentPage$ | async" [pageSizeOptions]="(pageSizeOptions$ | async) || [5, 10, 20]"
          (page)="pageChanged($event)">
        </mat-paginator>
        <div class="addNewProduct shadow-sm" (click)="addNewProduct()"><i class="fas fa-plus"></i></div>
        <div class="addNewProduct shadow-sm" (click)="getAllProducts()"><i class="fas fa-sync-alt"></i></div>
      </div>
      <div class="product-card shadow-sm" style="padding: 10px;">
        <table class="table table-striped table-hover">
          <br />
          <thead>
            <tr>
              <th>No</th>
              <th>ID</th>
              <th>Name</th>
              <th>Producer</th>
              <th>Price</th>
              <th>Country</th>
              <th>category</th>
            </tr>
          </thead>
          <tbody>
            <tr class="trClass" *ngFor="let product of displayData$ | async; let i = index">
              <td class="col">{{ i + pageSize$.value * currentPage$.value + 1 }}</td>
              <td class="col">
                {{ product.id }}
              </td>
              <td class="col">
                {{ product.name }}
              </td>
              <td class="col">{{ product.producer }}</td>
              <td class="col">{{ product.price }}</td>
              <td class="col">{{ product.country }}</td>
              <td class="col">{{ product.category }}</td>
              <td class="col-3">
                <div class="d-flex justify-content-center align-items-center">
                  <button type="button" (click)="updateProduct(product.id)" class=" btn btn-info btn-sm ms-2">
                    <i class="fas fa-pencil-alt"></i>
                  </button>

                  <button type="button" class="btn btn-danger btn-sm ms-2" data-bs-toggle="modal"
                    data-bs-target="#myModal">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </td>
   
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

</div>